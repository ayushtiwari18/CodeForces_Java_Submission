import java.util.*;import java.io.*;Â public class Main {    static void solve(FastScanner fs) throws IOException {        int n = fs.nextInt();                List<int[]> board = new ArrayList<>();        long[] second = new long[n];        long sum = 0;                for (int i = 0; i < n; i++) {            int m = fs.nextInt();            int[] arr = new int[m];            for (int j = 0; j < m; j++) {                arr[j] = fs.nextInt();            }            Arrays.sort(arr);            board.add(arr);            sum += arr[1];         // add 2nd smallest            second[i] = arr[1];        }                // remove min of all second smallest        long minSecond = Arrays.stream(second).min().getAsLong();        sum -= minSecond;                // add min of all first elements        long minFirst = Long.MAX_VALUE;        for (int[] arr : board) {            minFirst = Math.min(minFirst, arr[0]);        }        sum += minFirst;                System.out.println(sum);    }        public static void main(String[] args) throws IOException {        FastScanner fs = new FastScanner(System.in);        int t = fs.nextInt();        while (t-- > 0) {            solve(fs);        }    }        // Fast input reader    static class FastScanner {        BufferedReader br;        StringTokenizer st;        FastScanner(InputStream in) {            br = new BufferedReader(new InputStreamReader(in));        }        String next() throws IOException {            while (st == null || !st.hasMoreElements()) {                st = new StringTokenizer(br.readLine());            }            return st.nextToken();        }        int nextInt() throws IOException { return Integer.parseInt(next()); }        long nextLong() throws IOException { return Long.parseLong(next()); }    }}